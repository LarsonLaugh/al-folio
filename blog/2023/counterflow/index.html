<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>A duo traveling reversely | Lixian Wang</title> <meta name="author" content="Lixian Wang"> <meta name="description" content=""> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://larsonlaugh.github.io/blog/2023/counterflow/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> <style type="text/css">.fake-img{background:#bbb;border:1px solid rgba(0,0,0,0.1);box-shadow:0 0 4px rgba(0,0,0,0.1);margin-bottom:12px}.fake-img p{font-family:monospace;color:white;text-align:left;margin:12px 0;text-align:center;font-size:16px}</style> </head> <body> <d-front-matter> <script async type="text/json">{
      "title": "A duo traveling reversely",
      "description": "",
      "published": "November 22, 2023",
      "authors": [
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Lixian </span>Wang</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>A duo traveling reversely</h1> <p></p> </d-title> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#what-does-interaction-mean">What Does Interaction Mean?</a></div> <div><a href="#why-are-counter-propagating-flows-so-different">Why Are Counter-propagating Flows So Different?</a></div> <ul> <li><a href="#a-sequence-of-interactions">A Sequence of Interactions</a></li> <li><a href="#how-to-model-a-sequence-of-interactions">How to Model a Sequence of Interactions</a></li> </ul> <div><a href="#what-happens-if-more-flows-and-more-interactions-are-involved">What Happens If More Flows and More Interactions Are Involved</a></div> <div><a href="#how-can-this-be-useful-in-physics">How Can This Be Useful in Physics</a></div> <ul> <li><a href="#quantum-hall-effect-and-its-edge-state-picture">Quantum Hall effect and Its Edge-state Picture</a></li> <li><a href="#landauer-b%C3%BCttiker-formalism-and-interaction-between-edge-states">Landauer-Büttiker Formalism and Interaction between Edge States</a></li> </ul> <div><a href="#code-implementation">Code Implementation</a></div> <ul> <li><a href="#design-of-classes">Design of Classes</a></li> <li><a href="#dynamic-programming-for-diverting-edge-states">Dynamic Programming for Diverting Edge States</a></li> <li><a href="#usage">Usage</a></li> </ul> </nav> </d-contents> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/blog_cover-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/blog_cover-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/blog_cover-1400.webp"></source> <img src="/assets/img/interact_counter_flow/blog_cover.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>This blog serves as a memorial for the project titled <a href="/projects/1_project/">“Interacting Counter-propagating Flows”</a> to keep notes of why I started and what I’ve learned from it.</p> <p>Imagine a scenario that a pair of flows move in opposite directions, and occasionally interact. We want to find out what these interactions lead to, given their initial states. There is no straightforward solution to this problem similar to in a co-propagating scenario. We will clarify the distinct nature of such counter-propagating flows and provide a complete solution to all possible interactions in a system of any size.</p> <h3 id="what-does-interaction-mean">What Does Interaction Mean?</h3> <p>In an interaction, two flows are forced to exchange information about their current status (state), leading to immediate changes of status. After this interaction, the flows will move on with the updated status. When this interaction is strong (the strength is tunable from 0 to 1, resembling probability of status transition), the status of flows is expected to be significantly changed toward an average. Remarkably, this interaction is mathematically identical to a well-known stochastic process- <a href="https://en.wikipedia.org/wiki/Markov_chain" rel="external nofollow noopener" target="_blank">Markov process</a>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/interaction_site-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/interaction_site-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/interaction_site-1400.webp"></source> <img src="/assets/img/interact_counter_flow/interaction_site.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>A interaction can be represented by a transmission matrix in which the diagonal elements stand for the probability for remaining in original edge state and off-diagonal elements stand for exchange rate between edge states. This kind of matrix has two important properties: a. All the elements in a row add up to 1; b. All the elements in a column add up to 1. The dimension of this matrix is equal to the number of existing edge states.</p> \[\mu_1^{\prime}=\left(1-\frac{T_1T_2}{T_1+T_2}\right)\mu_1+\left(\frac{T_1T_2}{T_1+T_2}\right)\mu_2\] \[\mu_2^{\prime}=\left(\frac{T_1T_2}{T_1+T_2}\right)\mu_1+\left(1-\frac{T_1T_2}{T_1+T_2}\right)\mu_2\] \[\begin{bmatrix}\mu_1^{\prime}\\ \mu_2^{\prime}\end{bmatrix} =\begin{bmatrix}1-\beta/2&amp;\beta/2\\ \beta/2&amp;1-\beta/2\end{bmatrix} \begin{bmatrix}\mu_1\\ \mu_2\end{bmatrix}=M(\beta)\begin{bmatrix}\mu_1\\ \mu_2\end{bmatrix}\] \[\beta=\frac{2T_1T_2}{T_1+T_2}\in[0,1]\] <h3 id="why-are-counter-propagating-flows-so-different">Why Are Counter-propagating Flows So Different?</h3> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/co_and_counter_flows-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/co_and_counter_flows-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/co_and_counter_flows-1400.webp"></source> <img src="/assets/img/interact_counter_flow/co_and_counter_flows.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h4 id="a-sequence-of-interactions">A Sequence of Interactions</h4> <p>For a single interaction, it is not necessary to distinguish co-propagating and counter-propagating mode. It is only when there are a sequence of interactions along the path, the distinct nature of counter-propagating edge states emerges. For co-propagating edge states, a sequence of interactions is relatively easy to take into account by repeatedly multiplying matrix representation of following interactions from head to end. This is because that the after-status coming out from a former interaction is exactly the before-status for the later interaction. However, this is not true for the counter-propagating situation where keeping track of the current status of each edge state becomes challenging and convoluted.</p> <h4 id="how-to-model-a-sequence-of-interactions">How to Model a Sequence of Interactions</h4> <p>For co-propagating situation, it is not difficult to see that the combined effect of a sequence of interactions is a product of matrices representing each individual interaction. However, this straightforward approach is not applicable to the counter-propagating situation. We need to be careful in dealing this more complex situation and come up with an algorithm for a minimum system containing two edge states. Unfortunately, this algorithm is not applicable to larger systems (more flows) which involve different types of interactions. Simply speaking, this is due to the fact that the matrix representation of a combined effect should not be structurally similar to any individual interaction matrix. Therefore, we need a general model to deal with arbitrary number of flows and interaction, which will be covered in the next section.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/co_flows-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/co_flows-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/co_flows-1400.webp"></source> <img src="/assets/img/interact_counter_flow/co_flows.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/counter_flows-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/counter_flows-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/counter_flows-1400.webp"></source> <img src="/assets/img/interact_counter_flow/counter_flows.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 id="what-happens-if-more-flows-and-more-interactions-are-involved">What Happens If More Flows and More Interactions Are Involved</h3> <p>The complexity will increase rapidly when the number of flows and interactions increases. First, introducing more flows means more types of interactions. We simply can not find an analytical format for the combined matrix representation that is structurally identical to any individual matrix representation. In principle, we are still able to provide the analytic form for each matrix element. However, it is almost not writable and solvable by hand once there are more than a few interactions. For doing so, we need a general model that can be transformed into algorithms and implemented in programming language, like Python. To the best of my knowledge, such a general model at this level of complexity is still lacking.</p> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/larger_model-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/larger_model-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/larger_model-1400.webp"></source> <img src="/assets/img/interact_counter_flow/larger_model.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <h3 id="how-can-this-be-useful-in-physics">How Can This Be Useful in Physics</h3> <p>Interacting counter-propagating flows are physically realized in a quantum Hall system with edge states moving oppositely. Here I would like to introduce the physics background to illustrate how related research can benefit from this work.</p> <h4 id="quantum-hall-effect-and-its-edge-state-picture">Quantum Hall effect and Its Edge-state Picture</h4> <p>When a two-dimensional (extremely thin film), highly-conducting (high crystalline quality) semiconductor-like material ( e.g., GaAs heterostructure) is subject to a vertically aligned magnetic field (approx. 6 orders of magnitude stronger than Earth’s magnetic field), a profound and intriguing phenomenon, referred to as <a href="https://en.wikipedia.org/wiki/Quantum_Hall_effect" rel="external nofollow noopener" target="_blank">quantum Hall effect</a>., appears and has been extensively studied since its birth in 1980. In history, several Noble Prizes have been awarded to related discoveries in <a href="https://www.nobelprize.org/prizes/physics/1985/press-release/" rel="external nofollow noopener" target="_blank">1985</a> , <a href="https://www.nobelprize.org/prizes/physics/1998/press-release/" rel="external nofollow noopener" target="_blank">1998</a> , <a href="https://www.nobelprize.org/prizes/physics/2016/summary/" rel="external nofollow noopener" target="_blank">2016</a>. Aside from its deeper physical implication like <a href="https://pubs.aip.org/physicstoday/article/56/8/38/388340/A-Topological-Look-at-the-Quantum-Hall-EffectThe" rel="external nofollow noopener" target="_blank">topology in physics</a> , a well-celebrated, trustful “edge-state” physical picture for this phenomenon is that, electrons are forced to move alongside the thin film edges in one direction, forming dissipationless “edge states” (electron flows). Without delving into deeper theory, a “magic” force seems to guide the motion of electrons. Nevertheless, this simple picture is accurate enough to be applicable in academic discussions and exciting enough to spur expectations of revolution in the field of electric power transmission if no magnetic field is needed (See <a href="https://en.wikipedia.org/wiki/Quantum_spin_Hall_effect" rel="external nofollow noopener" target="_blank">quantum spin Hall effect</a>).</p> <h4 id="landauer-büttiker-formalism-and-interaction-between-edge-states">Landauer-Büttiker Formalism and Interaction between Edge States</h4> <p>Back to “edge states”, this unique “bullet-like” (ballistic) motion of electrons can be most suitably described by a model developed by Markus Büttiker in early 80s based on <a href="https://en.wikipedia.org/wiki/Landauer_formula" rel="external nofollow noopener" target="_blank">Rolf Landauer’s earlier work</a>, later referred to as <a href="https://de.wikipedia.org/wiki/Landauer-B%C3%BCttiker-Formalismus#:~:text=Der%20Landauer%2DB%C3%BCttiker%2DFormalismus%2C,Quanten%2DHall%2DEffekts%20verwendet." rel="external nofollow noopener" target="_blank">Landauer-Büttiker formalism</a> . Often we do not assume these edge states interact with each other or exchange electrons. In a typical device with terminals (electron reservoirs), interactions between edge states are in principle not discernible if all edge states move in the same direction (a co-propagating mode). This is because that co-propagating edge states themselves are identical in terms of physical properties like electrochemical potential and any exchange between them would not lead to any observable consequence. In order to detect this type of interaction, dedicated device design is needed to divert co-propagating edge states into different paths. For counter-propagating edge states, this interaction is directly measurable even in a standard device (uniform path).</p> <h3 id="code-implementation">Code Implementation</h3> <p>The source code of this open-source project is currently host on <a href="https://github.com/LarsonLaugh/Counterfusion" rel="external nofollow noopener" target="_blank">Github</a></p> <h4 id="design-of-classes">Design of Classes</h4> <p>For python implementation, two classes are designed: <code class="language-plaintext highlighter-rouge">System</code> and <code class="language-plaintext highlighter-rouge">Edge</code>. In class <code class="language-plaintext highlighter-rouge">Edge</code>, a method <code class="language-plaintext highlighter-rouge">trans_mat</code> is built to implement the forward-propagation process and to return a matrix representation of combined effect of the interaction sequence represented by this <code class="language-plaintext highlighter-rouge">Edge</code> instance. Another method <code class="language-plaintext highlighter-rouge">status_check</code> is built to implement the forward- and back- propagation processes together to return all the status along the sequence. To initialize an instance of class <code class="language-plaintext highlighter-rouge">system</code>, we need to first initialize several <code class="language-plaintext highlighter-rouge">Edge</code> instances as input beforehand. This <code class="language-plaintext highlighter-rouge">system</code> class account for a real system that contains not only sequences of interactions but also terminals which separate edges. A method <code class="language-plaintext highlighter-rouge">mastermat</code> is designed to return the master matrix equation and another method <code class="language-plaintext highlighter-rouge">solve</code> will return its solution - a vector of terminal voltages.</p> <h4 id="dynamic-programming-for-diverting-edge-states">Dynamic Programming for Diverting Edge States</h4> <p>I would like to highlight the implementation of dynamic programming, which allows for diverting edge states into different paths. In a standard Landauer-Büttiker system, all edge states enter each terminal without exception. The electronic measurement is only performed via terminals which measure all edge states at once. Consequently, this measurement result is an average of all edge states in terms of electro-chemical potential.</p> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/dynamic_programming-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/dynamic_programming-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/dynamic_programming-1400.webp"></source> <img src="/assets/img/interact_counter_flow/dynamic_programming.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <p>To extract additional information of edge states, it is advisable to block some of them from entering particular terminals, leading to different paths. In other words, this additional controls imposed on edge states may reveal hidden information, not detectable in conventional configuration (standard Landauer-Büttiker system). However, a complex blockage pattern may also cause difficulty in defining the blocked edge state, because that the information carried by these edge states, not detectable by terminals, spread into other edge states via interactions directly or indirectly. An algorithm is developed to resolve this complexity recursively.</p> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/dynamic_programming1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/dynamic_programming1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/dynamic_programming1-1400.webp"></source> <img src="/assets/img/interact_counter_flow/dynamic_programming1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <p>An algorithm is developed to resolve this complexity recursively.</p> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/interact_counter_flow/dynamic_programming2-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/interact_counter_flow/dynamic_programming2-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/interact_counter_flow/dynamic_programming2-1400.webp"></source> <img src="/assets/img/interact_counter_flow/dynamic_programming2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <h4 id="usage">Usage</h4> <p>The design principle for usage is to facilitate the bottom-up construction of a system from the building block - interaction. Hereby I would like to introduce how to build a system step-by-step with existing infrastructure from package <code class="language-plaintext highlighter-rouge">counterfusion</code>.</p> <p>A single interaction can be defined with a python snippet below:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">counterfusion</span> <span class="kn">import</span> <span class="n">interaction_builder</span>
<span class="n">left_stochastic_matrix</span> <span class="o">=</span> <span class="nf">interaction_builder</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">id1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">id2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.3</span><span class="p">])</span>
<span class="n">right_stochastic_matrix</span> <span class="o">=</span> <span class="n">left_stochastsic_matrix</span><span class="p">.</span><span class="n">T</span>
<span class="n">doubly_stochastic_matrix</span> <span class="o">=</span> <span class="nf">interaction_builder</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">id1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">id2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">value</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre></div></div> <p>An edge containing a sequence of interactions can be defined:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">counterfusion</span> <span class="kn">import</span> <span class="n">generate_bynumber</span><span class="p">,</span> <span class="n">Edge</span>
<span class="c1">#===============================================================
# General information for the edge - Hyperparameters
</span><span class="n">totalNumMover</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">numForwardMover</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">initStates</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.2</span><span class="p">]</span>
<span class="c1">#===============================================================
# Information of scattering events 
# Interaction parameters
</span><span class="n">v03</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">v01</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">v23</span> <span class="o">=</span> <span class="mf">0.8</span>
<span class="n">edgeDef</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">v03</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">v01</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">v23</span><span class="p">,</span><span class="mi">10</span><span class="p">]]</span>
<span class="n">edgeInfo</span> <span class="o">=</span> <span class="nf">generate_bynumber</span><span class="p">(</span><span class="n">edgeDef</span><span class="p">)</span>
<span class="n">edge</span> <span class="o">=</span> <span class="nc">Edge</span><span class="p">(</span><span class="n">edgeInfo</span><span class="p">,</span><span class="n">totalNumMover</span><span class="p">,</span><span class="n">numForwardMover</span><span class="p">)</span>
</code></pre></div></div> <p>A six-edge (terminal) system can be defined:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">counterfusion</span> <span class="kn">import</span> <span class="o">*</span>
<span class="c1"># Define a six-terminal system
# C1--M1--C2--M2--C3--M3--C4--M4--C5--M5--C6--M6--C1
# Total number of edge states: 4
# Number of forward-moving edge states: 2 (#0,#1)
# Number of backward-moving edge states: 2 (#2,#3)
#===============================================================
# General information for the system - Hyperparameters
</span><span class="n">totalNumMover</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">numForwardMover</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">zeroVoltTerminal</span> <span class="o">=</span> <span class="mi">3</span>
<span class="c1">#===============================================================
# Information of scattering events 
# Interaction parameters
</span><span class="n">v02</span> <span class="o">=</span> <span class="mf">0.9</span>
<span class="n">v13</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="n">v12</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="c1"># Define interaction between nodes (contacts)
# C1--M1--C2
</span><span class="n">edgeDef1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v02</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">v13</span><span class="p">,</span><span class="mi">10</span><span class="p">]]</span>
<span class="c1"># C2--M2--C3
</span><span class="n">edgeDef2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v02</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v12</span><span class="p">,</span><span class="mi">10</span><span class="p">]]</span>
<span class="c1"># C3--M3--C4
</span><span class="n">edgeDef3</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v02</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">v13</span><span class="p">,</span><span class="mi">10</span><span class="p">]]</span>
<span class="c1"># C4--M4--C5
</span><span class="n">edgeDef4</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v02</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v12</span><span class="p">,</span><span class="mi">10</span><span class="p">]]</span>
<span class="c1"># C5--M5--C6
</span><span class="n">edgeDef5</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v02</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">v13</span><span class="p">,</span><span class="mi">10</span><span class="p">]]</span>
<span class="c1"># C6--M6--C1
</span><span class="n">edgeDef6</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v02</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">v12</span><span class="p">,</span><span class="mi">10</span><span class="p">]]</span>
<span class="c1">#================================================================
</span><span class="n">edgesDef</span> <span class="o">=</span> <span class="p">[</span><span class="n">edgeDef1</span><span class="p">,</span><span class="n">edgeDef2</span><span class="p">,</span><span class="n">edgeDef3</span><span class="p">,</span><span class="n">edgeDef4</span><span class="p">,</span><span class="n">edgeDef5</span><span class="p">,</span><span class="n">edgeDef6</span><span class="p">]</span>
<span class="n">edgesInfo</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">edgeDef</span> <span class="ow">in</span> <span class="n">edgesDef</span><span class="p">:</span>
    <span class="n">edgesInfo</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nf">generate_bynumber</span><span class="p">(</span><span class="n">edgeDef</span><span class="p">))</span>
<span class="n">graph</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">edgeInfo</span> <span class="ow">in</span> <span class="n">edgesInfo</span><span class="p">:</span>
    <span class="n">graph</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nc">Edge</span><span class="p">(</span><span class="n">edgeInfo</span><span class="p">,</span><span class="n">totalNumMover</span><span class="p">,</span><span class="n">numForwardMover</span><span class="p">))</span>
<span class="n">nodesCurrent</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sys</span> <span class="o">=</span> <span class="nc">System</span><span class="p">(</span><span class="n">nodesCurrent</span><span class="p">,</span><span class="n">graph</span><span class="p">,</span><span class="n">numForwardMover</span><span class="p">,</span><span class="n">zeroVoltTerminal</span><span class="p">)</span>
</code></pre></div></div> <p>Separate paths of edge states can be realized by editing <code class="language-plaintext highlighter-rouge">blockStates</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The definition of blocking_state should strictly follow this rule: 
# [[index_of_terminal#1,[all blocked states in this terminal]],[[index_of_terminal#2,[all blocked states in this terminal],...]]]
</span><span class="n">blockStates</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,[</span><span class="mi">0</span><span class="p">]],[</span><span class="mi">0</span><span class="p">,[</span><span class="mi">2</span><span class="p">]],[</span><span class="mi">2</span><span class="p">,[</span><span class="mi">3</span><span class="p">]],[</span><span class="mi">3</span><span class="p">,[</span><span class="mi">1</span><span class="p">]]]</span>
<span class="n">sys</span> <span class="o">=</span> <span class="nc">System</span><span class="p">(</span><span class="n">nodesCurrent</span><span class="p">,</span><span class="n">graph</span><span class="p">,</span><span class="n">numForwardMover</span><span class="p">,</span><span class="n">zeroVoltTerminal</span><span class="p">,</span><span class="n">blockStates</span><span class="p">)</span>
</code></pre></div></div> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/2018-12-22-distill.bib"></d-bibliography> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Lixian Wang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>